/* --- 全体の基本スタイル --- */
body {
    font-family: sans-serif;
    text-align: center;
    background-color: #f0f0f0;
    margin: 0;
    padding: 16px;
}

h1 {
    color: #333;
}

/* --- ゲーム関連のコンテナとキャンバス --- */
/*
    ゲームは内部的に 650x900（例）で描画しますが、コンテナ幅に合わせて等比スケールします。
    - モバイルでは画面幅にフィット
    - デスクトップでは最大幅を制限
*/
#game-container {
    margin: 16px auto;
    border: 1px solid #ccc;
    position: relative;
    /* 矢印などの絶対配置要素の基準となります */
    width: min(95vw, 650px);
    /* 650x900 の想定比 (約 0.722) を維持するため、aspect-ratio を使用 */
    aspect-ratio: 650 / 900;
    background: #fff;
}

canvas {
    display: block;
    background-color: #fff;
    /* コンテナ幅いっぱいにスケール（内部解像度はJS側のwidth/heightで維持） */
    width: 100% !important;
    height: 100% !important;
}

/* --- UIコントロール --- */
button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border: none;
    background-color: #4CAF50;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
}

.controls label {
    font-size: 14px;
    /* ラベル文字色を config 経由で変更可能にする */
    color: var(--ui-text-color, #222);
}

.controls {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
}

.controls input[type="range"] {
    width: min(600px, 92vw);
}

.controls .slider-info {
    margin-top: 8px;
    text-align: center;
}

/* --- 現在は使用されていない要素 --- */
#launch-arrow {
    display: none !important;
    /* 現在はキャンバスに直接描画 */
}

/* 以前のバージョンの発射台は無効化 */
#launch-pad {
    display: none !important;
}


/* --- 数値表示のレイアウト崩れ防止 --- */
/* 等幅フォントを使用して、数値の桁数が変わってもガタつかないようにする */
#angle-val,
#speed-val,
#speed-actual {
    font-variant-numeric: tabular-nums;
    /* 対応ブラウザで等幅数値を有効化 */
    font-feature-settings: "tnum";
    /* 一部のブラウザ用のフォールバック */
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    /* テキスト色は CSS 変数から制御（config.js で注入されます） */
    color: var(--ui-text-color, #222);
}

/* 角度表示用の幅を確保 */
#angle-val {
    display: inline-block;
    width: 6ch;
    /* "180.0" のような表示に対応 */
    text-align: right;
}

/* 発射強度表示用の幅を確保 */
#speed-val {
    display: inline-block;
    width: 5ch;
    /* "100.0" のような表示に対応 */
    text-align: right;
}

/* 実際の速度表示用の幅を確保 */
#speed-actual {
    display: inline-block;
    min-width: 12ch;
    /* "px/s" という単位表示のためのスペース */
    text-align: left;
    opacity: 0.85;
}

/* モバイル向け微調整 */
@media (max-width: 480px) {
    body {
        padding: 12px;
    }

    #game-container {
        width: 96vw;
    }

    .controls label {
        font-size: 13px;
    }

    button {
        font-size: 15px;
        padding: 10px 16px;
    }
}