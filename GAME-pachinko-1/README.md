# GAME-PACHINKO-1

## 概要

GAME-PACHINKO-1 は、Matter.js を使用した物理シミュレーションベースのパチンコゲームです。ボールを発射し、様々なオブジェクト（釘、風車、パドル、ガイド壁など）と衝突させながら落下させることで、物理演算の楽しさを体験できます。開発者ツールを備えており、リアルタイムでパラメータを調整可能です。

## 主な機能

### 1. ボール発射システム
- **角度調整**: スライダーで発射角度を 0°〜180° の範囲で設定可能
- **速度調整**: スライダーで発射速度を調整（最小 29.2 px/s、最大 39.3 px/s）
- **連射モード**: 長押しで一定間隔（250ms）で連続発射可能
- **発射位置**: 画面下部中央から発射
- **ボール色**: ランダム色または固定色（設定可能）

### 2. ゲームオブジェクト
- **釘 (Pegs)**: 静的な円形オブジェクト。ボールの軌道を変化させる
- **風車 (Windmills)**: 回転する多角形オブジェクト。一定速度またはプログラム制御で回転
- **パドル (Paddles)**: 回転する棒状オブジェクト。シーケンス回転（例: -30° → -65° → ループ）
- **ガイド壁**: 静的な多角形または矩形。ボールの軌道を誘導
- **一方向壁**: ボールの運動方向に応じて通過/ブロック（例: 下向き通過、上向きブロック）
- **センサー**: ボールの通過を検知し、カウント表示。条件でボールを削除可能

### 3. 物理演算
- **エンジン**: Matter.js を使用したリアルタイム物理シミュレーション
- **材質**: 金属、プラスチック、玉などの材質で反発係数と摩擦係数を設定
- **重力**: Y軸方向に 1.5 の重力
- **衝突検知**: 精密な衝突判定と応答

### 4. 開発者ツール
- **時間スケール**: ゲーム速度を 0.1x〜2x で調整
- **プレイ/ポーズ**: ゲームの一時停止と再開
- **プリセット切り替え**: 釘配置やオブジェクト配置のプリセットを切り替え
- **センサー監視**: 各センサーの通過カウント（進入/退出/総通過）をリアルタイム表示
- **パドル制御**: パドルのオン/オフを一括切り替え
- **パーティクル設定**: センサー削除時や床ヒット時のパーティクル色/モード設定

### 5. エフェクトと演出
- **パーティクル**: ボール削除時にパーティクルを発生（ボール色継承、カスタム色、デフォルト色）
- **床ヒット**: 床に触れたボールを削除し、オプションでパーティクル発生
- **センサー削除**: センサー通過時にボールを削除し、パーティクル発生

### 6. 設定とカスタマイズ
- **JSONプリセット**: objects-presets/default.json でオブジェクト配置を定義
- **釘プリセット**: pegs-presets/ フォルダに複数の配置パターンを用意
- **リアルタイム設定**: config.js で物理パラメータ、UI設定、エフェクトを調整

## 使い方

1. **起動**: index.html をブラウザで開く
2. **発射調整**: 角度スライダーと速度スライダーでパラメータを設定
3. **発射**: 発射ボタンをクリック、または長押しで連射
4. **観察**: ボールの軌道とオブジェクトとの衝突を観察
5. **開発者ツール**: F1キーで開発者パネルを開き、各種設定を調整

## 設定ファイル

- `config.js`: グローバル設定（物理、UI、エフェクト）
- `objects-presets/default.json`: オブジェクト配置プリセット
- `pegs-presets/pegs4.json`: 釘配置プリセット（デフォルト）

## 拡張可能性

### すぐに追加可能な機能
- **スコアシステム**: ボールの落下位置や通過センサーでスコア計算
- **サウンドエフェクト**: 衝突音や発射音の追加
- **ビジュアルエフェクト**: 背景アニメーションや光るエフェクト
- **複数ボールモード**: 同時に複数のボールを管理
- **レベルシステム**: 難易度別のプリセット切り替え

### 高度な拡張
- **AIプレイヤー**: 自動で最適な発射角度を計算
- **ネットワーク機能**: マルチプレイヤーモード
- **3D化**: Three.js での3Dパチンコ
- **カスタムオブジェクト**: ユーザー定義の複雑な形状
- **物理最適化**: より高度な物理シミュレーション（流体、磁場など）
- **データ分析**: ボール軌道の統計分析と可視化

このゲームは、物理シミュレーションの学習やエンターテイメントとして活用可能です。Matter.js の機能を活かした拡張が容易に可能です。
