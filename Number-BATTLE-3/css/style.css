/* Extracted styles from index.html - Number-BATTLE-3 */
@import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap');
@import "tailwindcss";

:root {
	/* Layout tokens - avoid magic numbers */
	--page-padding: 1rem;
	--card-max-width: 42rem;
	/* matches tailwind max-w-md ~ 672px */
	--control-bar-gap: 0.75rem;
	--hand-min-size: 88px;
	/* increased to keep digits readable on narrow screens */
	--hand-preferred-size: 112px;
	--hand-max-size: 140px;
	--hand-border-radius: 1.5rem;
}

body {
	font-family: 'M PLUS Rounded 1c', sans-serif;
	touch-action: manipulation;
	padding: var(--page-padding);
	display: flex;
	justify-content: center;
}

.hand {
	/* Use clamp() to avoid magic numbers and support many viewports */
	width: clamp(var(--hand-min-size), 12vw, var(--hand-max-size));
	height: clamp(var(--hand-min-size), 12vw, var(--hand-max-size));
	border: 4px solid transparent;
	border-radius: var(--hand-border-radius);
	display: flex;
	justify-content: center;
	align-items: center;
	/* Ensure a readable minimum font-size for digits while still scaling up */
	font-size: clamp(2rem, 4.2vw, 5rem);
	font-weight: 700;
	cursor: pointer;
	transition: all 0.18s ease;
	user-select: none;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);
	min-width: var(--hand-min-size);
	min-height: var(--hand-min-size);
}

.hand.selected {
	border-color: #f59e0b;
	box-shadow: 0 8px 12px rgba(245, 158, 11, 0.3);
}

.hand.disabled {
	cursor: not-allowed;
	background-color: #f3f4f6;
	color: #9ca3af;
}

.hand.ai-hand:hover {
	background-color: #fee2e2;
}

.hand.player-hand:not(.disabled):hover {
	background-color: #dbeafe;
}

.btn {
	transition: all 0.2s ease;
}

.btn:hover {
	transform: translateY(-2px);
	box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
}

.btn:active {
	transform: translateY(0);
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

#split-modal {
	background-color: rgba(0, 0, 0, 0.5);
}

/* Only show and center the modal when it does NOT have the `hidden` class (Tailwind uses `hidden`) */
#split-modal:not(.hidden) {
	display: flex;
	align-items: center;
	justify-content: center;
}

.move-to-target {
	position: absolute;
	transition: transform 0.5s ease, opacity 0.5s ease;
	z-index: 10;
}

.fade-out {
	opacity: 0;
	transition: opacity 0.5s ease;
}

/* Top control bar: make it horizontally scrollable when it would overflow the card width.
   The control bar is centered and limited to the same max width as the card so options never escape visually. */
/* (no-op placeholder removed) */

.overflow-x-auto {
	/* Ensure the top control container can scroll horizontally inside the card width */
	max-width: var(--card-max-width);
	margin: 0 auto;
}

.overflow-x-auto>.flex {
	gap: var(--control-bar-gap);
	align-items: center;
	padding: 0.4rem 0.6rem;
	overflow: auto;
	white-space: nowrap;
	-webkit-overflow-scrolling: touch;
}

/* Small screens: avoid overlap by making the controls flow into document and be scrollable */
@media (max-width: 640px) {
	/* Avoid adding a large top margin; top controls now sit in flow above the card */
	#game-container {
		margin-top: 0;
	}

	.inline-flex {
		padding: 0.5rem 0.6rem;
	}
}

/* Extra-small screens and short viewports: ensure everything fits and becomes scrollable if needed */
@media (max-width: 380px),
(max-height: 700px) {
	#game-container {
		margin-top: 0;
		max-height: calc(100vh - 88px);
		overflow: auto;
		padding: 0.75rem;
		box-sizing: border-box;
	}

	h1 {
		font-size: 1.55rem;
	}

	#message-area {
		height: auto;
		padding: 0.4rem 0.6rem;
		font-size: 0.95rem;
	}

	#hint-area {
		height: auto;
		font-size: 0.78rem;
		padding: 0.2rem 0.4rem;
	}

	.btn {
		padding: 0.4rem 0.6rem;
		font-size: 0.95rem;
	}

	/* Let the top controls flow into the document so they don't overlap small cards */
	.relative>.absolute {
		position: static !important;
		transform: none !important;
		margin: 0.4rem auto 0.6rem;
	}

	/* Ensure split modal fits on small screens */
	#split-modal>div {
		max-height: calc(100vh - 80px);
		overflow: auto;
		margin: 0 1rem;
		width: calc(100% - 2rem);
	}
}

/* Aspect-ratio specific tweaks for common smartphones */
/* 21:9 very tall/narrow phones (e.g., some modern tall devices) */
@media (min-aspect-ratio: 21/9) and (max-width: 500px) {
	#game-container {
		max-height: calc(100vh - 110px);
		padding: 10px;
	}

	/* Rely on root clamp() sizing for .hand to keep sizes consistent */

	.btn {
		padding: 9px 14px;
	}
}

/* 19.5:9 (typical modern phones like many iPhones) */
@media (min-aspect-ratio: 195/90) and (max-width: 600px) {
	#game-container {
		max-height: calc(100vh - 100px);
	}

	/* root clamp() covers .hand sizing */
}

/* 16:9 (older phones / many Android landscape cases) */
@media (min-aspect-ratio: 16/9) and (max-width: 700px) {
	#game-container {
		max-height: calc(100vh - 90px);
	}

	/* root clamp() covers .hand sizing */
}

/* Landscape tight heights: reduce card height and controls to fit */
@media (orientation: landscape) and (max-height: 500px) {
	#game-container {
		max-height: calc(100vh - 60px);
		padding: 0.5rem;
	}

	h1 {
		font-size: 1.15rem;
	}

	.btn {
		padding: 0.35rem 0.6rem;
		font-size: 0.85rem;
	}
}

/* Center split modal internals and options */
#split-modal>div {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: flex-start;
}

#split-modal #split-options {
	width: 100%;
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
	gap: 0.6rem;
}

/* Make sure option buttons inside split modal are centered */
#split-modal #split-options button {
	width: 100%;
}

/* Utility: ensure the main card is centered and constrained */
#game-container {
	max-width: var(--card-max-width);
	margin-left: auto;
	margin-right: auto;
}
